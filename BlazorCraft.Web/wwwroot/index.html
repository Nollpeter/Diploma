<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>BlazorCraft.Web</title>
    <base href="/"/>
    <link href="https://fonts.googleapis.com/css?family=Inter:300,400,500,700&display=swap" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet"/>

    <link href="css/prism.css" rel="stylesheet"/>
    <link href="css/app.css" rel="stylesheet"/>
    <link href="BlazorCraft.Web.styles.css" rel="stylesheet">
</head>

<body>
<div id="app">
    <svg class="loading-progress">
        <circle r="40%" cx="50%" cy="50%"/>
        <circle r="40%" cx="50%" cy="50%"/>
    </svg>
    <div class="loading-progress-text"></div>
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>
<script>
    window.highlightSnippet = function () {
        Prism.highlightAll();
    }
    window.prettifyHtml = function format(html) {
        var tab = '  ';
        var result = '';
        var indent = '';

        html.split(/>\s*</).forEach(function (element) {
            if (element.match(/^\/\w/)) {
                indent = indent.substring(tab.length);
            }

            result += indent + '<' + element + '>\r\n';

            if (element.match(/^<?\w[^>]*[^\/]$/) && !element.startsWith("input")) {
                indent += tab;
            }
        });

        return result.substring(1, result.length - 3);
    }
    window.domWatcher = {
        watch: function (elementId, dotNetReference) {
            var targetNode = document.getElementById(elementId);

            var codeNode = targetNode//.querySelector('code');
            // Create an observer instance linked to the callback function
            var observer = new MutationObserver(function (mutationsList, observer) {
                for (var mutation of mutationsList) {
                    //if (mutation.type == 'childList' || mutation.type == 'attributes' ) {
                    var innerHTML = codeNode.innerHTML;
                    // Now you have the new innerHTML, you can pass it back to Blazor
                    dotNetReference.invokeMethodAsync('OnDomChanged', innerHTML);
                    //}
                }
            });

            // Start observing the target node for configured mutations
            observer.observe(targetNode, {attributes: true, childList: true, subtree: true});

            // To stop observing use observer.disconnect()
        }
    };

</script>
<script src="_framework/blazor.webassembly.js"></script>
<script src="_framework/aspnetcore-browser-refresh.js"></script>
<script src="_content/MudBlazor/MudBlazor.min.js"></script>
<script src="js/prism.js"></script>
<script src="js/examples/js-interop-blazor-to-js.js"></script>
<script src="js/examples/js-interop-js-to-blazor.js"></script>
<script src="js/exercises/js-interop/js-interop-exercise-helper.js"></script>

</body>

</html>